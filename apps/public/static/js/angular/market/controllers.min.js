(function(){var a=angular.module("market-controllers",[]);a.controller("MarketController",["$http",function(a){function c(){return Math.floor(Math.random()*2)==1?"double":"single"}var b=this;b.blocks=[],b.blocks=[{type:"category",id:"11"}],a.get("/api/listings/?limit=3").success(function(a){for(listing=0;listing<a.results.length;listing++)b.blocks.push({type:"listing",size:"single",data:a.results[listing]})}),a.get("/api/categories/?is_parent=True").success(function(a){for(category=0;category<a.results.length;category++)b.blocks.push({type:"category",size:"single",data:a.results[category]})}),a.get("/api/stores/?limit=2").success(function(a){for(store=0;store<a.results.length;store++)b.blocks.push({type:"store",size:"single",data:a.results[store]})})}]),a.controller("CategoryController",["$http",function(a){var b=this;b.pages=1,b.listings=[],a.get("/api/listings/").success(function(a){var c=24;b.pages=parseInt((a.count+(c-1))/c),b.listings=a.results})}]),a.controller("ListingController",["$http","$routeParams",function(a,b){var c=this;a.get("/api/listings/"+b.listingId).success(function(a){c.detail=a})}])})()