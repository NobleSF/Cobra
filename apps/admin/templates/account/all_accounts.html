{% extends "admin_base.html" %}
{% load url from future %}

{% block javascript %}
  <script type="text/javascript" src="{{ STATIC_URL }}admin/js/all_accounts.js"></script>
{% endblock javascript %}

{% block css %}
  <style>
    td{min-width: 50px;}
    .name{text-align: right;}
    .name, .login i{font-size: 18pt;}
    .phone i{font-size: 12pt;}
  </style>
{% endblock css %}

{% block content %}

<h3>Seller Accounts</h3>

<input id='approve-url' type='hidden' value="{% url 'admin:approve seller' %}">

<table class='table table-hover'>
  {% for account in seller_accounts %}

    <tr>
      <td>
        <a href="{% url 'admin:account edit' account.id %}">Edit</a>
      </td>

      <td class='name'>
        {% if account.name %}{{ account.name }}{% else %}-name-{% endif %}
      </td>

      <td class='login'>
        <a href="{{ account.cheat_login_url }}"><i class='symbol-go anou-blue'></i></a>
        {{ account.username }}
      </td>

      <td class='phone'>
        <i class='symbol-phone'></i>
        {{ account.phone }}
      </td>

      <td>
          <span id='approve-button-{{ account.sellers.all.0.id }}'
                  class='btn btn-mini
                    {% if account.sellers.all.0.approved_at %}
                      unapprove-seller btn-danger
                    {% else %}
                      approve-seller btn-success
                    {% endif %}
                  '
                  data-seller-id='{{ account.sellers.all.0.id }}'>
            {% if account.sellers.all.0.approved_at %}
              Un-Approve
            {% else %}
              Approve
            {% endif %}
          </span>
      </td>
    </tr>

  {% endfor %}
</table>

{% endblock content %}
