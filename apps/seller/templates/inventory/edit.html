{% extends "seller_base.html" %}
{% load url from future %}

{% block css %}
  <link href='{{ STATIC_URL }}seller/css/product_edit.css' rel='stylesheet'>
  <link href='{{ STATIC_URL }}seller/css/photo_upload.css' rel='stylesheet'>
{% endblock css%}

{% block javascript %}
  <script src='{{ STATIC_URL }}vendor/blueimp-file-upload/js/vendor/jquery.ui.widget.js'></script>
  <script src='{{ STATIC_URL }}vendor/blueimp-file-upload/js/jquery.iframe-transport.js'></script>
  <script src='{{ STATIC_URL }}vendor/blueimp-file-upload/js/jquery.fileupload.js'></script>
  <script src='{{ STATIC_URL }}seller/js/product_edit.js'></script>
{% endblock javascript%}

{% block new_product_active %}active{% endblock %}

{% block seller_page_content %}
  {% load inventory_inclusion_tags %}

  <input type='hidden' id='product-ajax-url' value='{% url 'seller:save product' %}'>

  <div id='product-edit-form'>

    <div id='product-chooser-section' class='section'>
      {% asset_chooser_tag request product "product" %}
      <hr>
    </div>

    <div id='photos-section' class='section'>
      <div id='photos'>
        {% for photo in product.photos %}
          {% photo_upload_tag photo_form product photo=photo %}
        {% endfor %}
        {% for rank in add_ranks_range %}
          {% photo_upload_tag photo_form product rank=rank %}
        {% endfor %}
      </div>
      <hr>
    </div>

    <form action="" method="post">{% csrf_token %}
      <div class='hidden-fields'>
        {{ product_form.product_id }}
        {{ product_form.assets }}
        {# product_form.photos #}
        {{ product_form.colors }}
        {{ product_form.shipping_options }}
      </div>

      <div id='price-section' class='section'>
        <ul>
          <li class='input-prepend input-append'>
            <span class='add-on'><i class='symbol money'></i></span>
            {{ product_form.price }}
            <span class='add-on'>Dh</span>
          </li>
        </ul>
        <hr>
      </div>

      <div id='color-chooser-section' class='section'>
        {% color_chooser_tag product %}
        <hr>
      </div>

      <div id='tool-chooser-section' class='section'>
        {% asset_chooser_tag request product "tool" %}
        <hr>
      </div>

      <div id='material-chooser-section' class='section'>
        {% asset_chooser_tag request product "material" %}
        <hr>
      </div>

      <div id='artisan-chooser-section' class='section'>
        {% asset_chooser_tag request product "artisan" %}
        <hr>
      </div>

      <div id='measurements-section' class='section'>
        <ul>
          <li class='input-prepend input-append'>
            <span class='add-on'><i class='symbol width'></i></span>
            {{ product_form.width  }}
            <span class='add-on'>cm</span>
          </li>
          <li class='input-prepend input-append'>
            <span class='add-on'><i class='symbol height'></i></span>
            {{ product_form.height }}
            <span class='add-on'>cm</span>
          </li>
          <li class='input-prepend input-append'>
            <span class='add-on'><i class='symbol length'></i></span>
            {{ product_form.length }}
            <span class='add-on'>cm</span>
          </li>
          <li class='input-prepend input-append'>
            <span class='add-on'><i class='symbol weight'></i></span>
            {{ product_form.weight }}
            <span class='add-on'>gram</span>
          </li>
        </ul>
        <hr>
      </div>

      <div id='shipping-option-chooser-section' class='section'>
        {% shipping_option_chooser_tag request product %}
        <hr>
      </div>

      <div id='summary-section' class='section row-fluid'>

        <div class='summary-photo span1'>
          <img src=''>
        </div>

        <div class='summary-values span2'>
          <ul>
            <li class='input-prepend input-append'>
              <span class='add-on'><i class='symbol money'></i></span>
              <input type='text' id='summary-price' class='input-mini' disabled>
              <span class='add-on'>Dh</span>
            </li>
            <li class='input-prepend input-append summary-detail'>
              <span class='add-on'><i class='symbol shipping'></i></span>
              <input type='text' id='summary-shipping-cost' class='input-mini' disabled>
              <span class='add-on'>Dh</span>
            </li>
            <li class='input-prepend input-append summary-detail'>
              <span class='add-on'><i class='symbol fee'></i></span>
              <input type='text' id='summary-anou-fee' class='input-mini' disabled>
              <span class='add-on'>Dh</span>
            </li>
            <li class='input-prepend input-append summary-detail'>
              <span class='add-on'><i class='symbol total'></i></span>
              <input type='text' id='summary-total' class='input-mini' disabled>
              <span class='add-on'>Dh</span>
            </li>
            <li class='input-prepend input-append summary-detail'>
              <span class='add-on'><i class='symbol USD'></i></span>
              <input type='text' id='summary-USD' class='input-mini' disabled>
              <span class='add-on'>USD</span>
            </li>
            <li id='summary-show-more'>show more</li>
          </ul>
        </div>

        <div class='summary-submit span1'>
          <button class='btn' type="submit">OK!</button>
        </div>

      </div>
    </form>
  </div>
{% endblock seller_page_content %}
